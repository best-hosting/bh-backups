---
# defaults file for bh-backups
install_path: '/etc'

bh_root_rsync_filter: |
  # BH / filter.

  . {{ rsync_filters_libdir }}/ossec.rsync-filter
  . {{ rsync_filters_libdir }}/ispmgr.rsync-filter

  . {{ rsync_filters_libdir }}/root-base.rsync-filter

bh_home_rsync_filter: |
  # BH filter for user's data.

  # Ignore web logs.
  - /httpd-logs/*
  - /*/data/logs/*

  . {{ rsync_filters_libdir }}/home-base.rsync-filter

# Backup points definition.
#r_backups:
#  - name: 'root'
#    src:  '/'
#    dst:  'root'
#    rsync_filter: "{{ bh_root_rsync_filter }}"

bh_mysql_script: "{{ role_path + '/files/mysql.sh' }}"
bh_pgsql_script: "{{ role_path + '/files/pgsql.sh' }}"

# Backup scripts definition. Name must be unique in single r_backup_scripts
# list!
#r_backup_scripts:
#  - name:   'mysql'
#    password: 'pass'
#    script: "{{ bh_mysql_script }}"

# Root directory for all backups. This variable must be set for _backup
# server_.
#r_backup_root: '/var/cache/rsnapshot'

# Default database user name.
db_user: "{{ backup_server }}"

# Default database user password.
db_password: "{{ lookup('file', 'backup_mysql.password') }}"

r_sync:
  hour: 2
  minute: 30
r_weekly:
  hour: 2
  minute: 15
r_monthly:
  hour: 2
  minute: 0

# To recalculate values, remove cache file.
r_count_files: yes

# Percentage.
warn_files_count: 80
crit_files_count: 60
warn_files_count_diff: 10000
warn_files_count_diff: 40000

warn_size: 80
crit_size: 60
warn_size_diff: 10737418240
warn_size_diff: 42949672960
